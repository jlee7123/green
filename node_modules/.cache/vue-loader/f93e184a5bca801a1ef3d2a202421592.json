{"remainingRequest":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\src\\components\\AppBar.vue?vue&type=style&index=0&id=1b968762&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\src\\components\\AppBar.vue","mtime":1667368311365},{"path":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\node_modules\\css-loader\\dist\\cjs.js","mtime":1667198119713},{"path":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1667198119828},{"path":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\node_modules\\postcss-loader\\src\\index.js","mtime":1667198119814},{"path":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667198110248},{"path":"C:\\Users\\admin\\Desktop\\vue\\oneM2M_vueapplication\\node_modules\\vue-loader\\lib\\index.js","mtime":1667198119828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2NyZWF0ZSAudi1zcGVlZC1kaWFsIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoKI2NyZWF0ZSAudi1idG4tLWZsb2F0aW5nIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQo="},{"version":3,"sources":["AppBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0RA;AACA;AACA;;AAEA;AACA;AACA","file":"AppBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <v-app-bar app color=\"dark\" dark dense>\n            <v-toolbar-title>\n                <v-row no-gutters align=\"center\">\n                    <!--                    <img src=\"../../public/keti-logo.png\" width=\"30\" height=\"30\" class=\"mr-2\">-->\n                    approval management\n                </v-row>\n            </v-toolbar-title>\n\n            <v-spacer></v-spacer>\n\n            <v-row no-gutters>\n                <v-col cols=\"3\">\n                    <v-text-field\n                        class=\"mx-2 mt-1\"\n                        dense hide-details outlined\n                        ref=\"host\"\n                        v-model=\"host\" :rules=\"host_rule\"\n                        placeholder=\"125.132.13.63\"\n                        label=\"HOST*\"\n                        required\n                        :disabled=\"MOBIUS_CONNECTION_CONNECTED\"\n                    ></v-text-field>\n                </v-col>\n                <v-col cols=\"3\">\n                    <v-text-field\n                        class=\"mx-2 mt-1\"\n                        dense hide-details outlined\n                        ref=\"approval\"\n                        v-model=\"approval\" :rules=\"approval_rule\"\n                        placeholder=\"MUV\"\n                        label=\"APPROVAL*\"\n                        required\n                        :disabled=\"MOBIUS_CONNECTION_CONNECTED\"\n                    ></v-text-field>\n                </v-col>\n                <v-col cols=\"6\">\n                    <v-btn\n                        class=\"mx-2 mt-1\"\n                        tile @click=\"GcsAppBarCreated\"\n                        elevation=\"5\"\n                        color=\"primary\"\n                        :disabled=\"MOBIUS_CONNECTION_CONNECTED\"\n                    > {{ MOBIUS_CONNECTION_TEXT }}\n                    </v-btn>\n                    <v-btn\n                        class=\"mx-2 mt-1\"\n                        tile @click=\"GcsAppBarReseted\"\n                        elevation=\"2\"\n                        color=\"primary\"\n                        :disabled=\"!MOBIUS_CONNECTION_CONNECTED\"\n                    > {{ MOBIUS_DISCONNECTION_TEXT }}\n                    </v-btn>\n                </v-col>\n            </v-row>\n\n            <v-spacer></v-spacer>\n\n        </v-app-bar>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport EventBus from \"@/EventBus\";\n\nexport default {\n    name: \"AppBar\",\n\n    data: function () {\n        return {\n            open: false,\n            MOBIUS_DISCONNECTION_TEXT: 'Disconnect',\n            MOBIUS_CONNECTION_TEXT: 'Connect',\n\n            MOBIUS_CONNECTION_CONNECTED: localStorage.getItem('mobius_connected') ? (localStorage.getItem('mobius_connected') === 'true') : false,\n            MOBIUS_CONNECTION_DISABLED: false,\n\n            host: localStorage.getItem('mobius_host') ? (localStorage.getItem('mobius_host')) : (this.$store.state.VUE_APP_MOBIUS_HOST),\n            host_rule: [\n                v => !!v || '호스트 주소는 필수 입력사항입니다.',\n                v => /^[.0-9]*$/.test(v) || '호스트 주소는 숫자만 입력 가능합니다.'\n            ],\n            approval: localStorage.getItem('mobius_approval') ? (localStorage.getItem('mobius_approval')) : (this.$store.state.VUE_APP_MOBIUS_APPROVAL),\n            approval_rule: [\n                v => !!v || 'Approval 이름은 필수 입력사항입니다.',\n                v => !/[~!@#$%^&*()+|<>?:{}]/.test(v) || 'Approval 이름에는 특수문자를 사용할 수 없습니다.'\n            ],\n            approval_list: []\n        }\n    },\n\n    methods: {\n        GcsAppBarCreated() {\n\n            this.$store.state.VUE_APP_MOBIUS_HOST = this.host;\n            this.$store.state.VUE_APP_MOBIUS_APPROVAL = this.approval;\n\n            localStorage.setItem('mobius_host', this.host);\n            localStorage.setItem('mobius_approval', this.approval);\n\n            let self = this;\n\n            axios({\n                validateStatus: function (status) {\n                    // 상태 코드가 500 이상일 경우 거부. 나머지(500보다 작은)는 허용.\n                    return status < 500;\n                },\n                method: 'get',\n                url: 'http://' + this.$store.state.VUE_APP_MOBIUS_HOST + ':7579/Mobius/' + this.$store.state.VUE_APP_MOBIUS_APPROVAL,\n                headers: {\n                    'X-M2M-RI': String(parseInt(Math.random() * 10000)),\n                    'X-M2M-Origin': 'SVue',\n                    'Content-Type': 'application/json'\n                }\n            }).then(\n                function (res) {\n\n                    console.log('ApprovalAppBarCreated', 'http://' + self.$store.state.VUE_APP_MOBIUS_HOST + ':7579/Mobius/' + self.$store.state.VUE_APP_MOBIUS_APPROVAL, res);\n\n                    if (res.status === 200) {\n                        self.MOBIUS_CONNECTION_CONNECTED = true;\n                        self.$store.state.MOBIUS_CONNECTION_CONNECTED = true;\n\n                        localStorage.setItem('mobius_connected', self.MOBIUS_CONNECTION_CONNECTED);\n\n                        axios({\n                            validateStatus: function (status) {\n                                // 상태 코드가 500 이상일 경우 거부. 나머지(500보다 작은)는 허용.\n                                return status < 500;\n                            },\n                            method: 'get',\n                            url: 'http://' + self.$store.state.VUE_APP_MOBIUS_HOST + ':7579/Mobius/' + self.$store.state.VUE_APP_MOBIUS_APPROVAL + '/approval',\n                            params: {\n                                'fu': '1',\n                                'lvl': '1',\n                                'ty': '3',\n                            },\n                            headers: {\n                                'Accept': 'application/json',\n                                'X-M2M-RI': '12345',\n                                'X-M2M-Origin': 'SOrigin'\n                            }\n                        }).then(\n                            function (response) {\n                                let list = response.data[\"m2m:uril\"];\n                                for (let idx in list) {\n                                    let id = list[idx].split('/')\n                                    self.approval_list.push(id[id.length - 1])\n                                }\n                                self.$store.state.APPROVAL_LIST = self.approval_list\n                                EventBus.$emit('do-updated-approval-list', self.$store.state.APPROVAL_LIST);\n                            }\n                        ).catch(\n                            function (error) {\n                                console.log(error);\n                            }\n                        );\n                    } else if (res.status === 404) {\n                        axios({\n                            validateStatus: function (status) {\n                                // 상태 코드가 500 이상일 경우 거부. 나머지(500보다 작은)는 허용.\n                                return status < 500;\n                            },\n                            method: 'post',\n                            url: 'http://' + self.$store.state.VUE_APP_MOBIUS_HOST + ':7579/Mobius',\n                            headers: {\n                                'X-M2M-RI': String(parseInt(Math.random() * 10000)),\n                                'X-M2M-Origin': 'S' + self.$store.state.VUE_APP_MOBIUS_APPROVAL,\n                                'Content-Type': 'application/json;ty=2'\n                            },\n                            data: {\n                                'm2m:ae': {\n                                    rn: self.$store.state.VUE_APP_MOBIUS_APPROVAL,\n                                    api: '0.2.481.1.1111',\n                                    lbl: [self.$store.state.VUE_APP_MOBIUS_APPROVAL],\n                                    rr: true,\n                                    poa: [\"http://localhost:8080\"]\n                                }\n                            }\n                        }).then(\n                            function () {\n                                axios({\n                                    validateStatus: function (status) {\n                                        // 상태 코드가 500 이상일 경우 거부. 나머지(500보다 작은)는 허용.\n                                        return status < 500;\n                                    },\n                                    method: 'post',\n                                    url: 'http://' + self.$store.state.VUE_APP_MOBIUS_HOST + ':7579/Mobius/' + self.$store.state.VUE_APP_MOBIUS_APPROVAL,\n                                    headers: {\n                                        'X-M2M-RI': String(parseInt(Math.random() * 10000)),\n                                        'X-M2M-Origin': 'SVue',\n                                        'Content-Type': 'application/json;ty=3'\n                                    },\n                                    data: {\n                                        'm2m:cnt': {\n                                            rn: 'approval',\n                                            lbl: ['approval'],\n                                        }\n                                    }\n                                }).then(\n                                    function () {\n                                        self.MOBIUS_CONNECTION_CONNECTED = true;\n                                        self.$store.state.MOBIUS_CONNECTION_CONNECTED = true;\n\n                                        localStorage.setItem('mobius_connected', self.MOBIUS_CONNECTION_CONNECTED);\n                                        axios({\n                                            validateStatus: function (status) {\n                                                // 상태 코드가 500 이상일 경우 거부. 나머지(500보다 작은)는 허용.\n                                                return status < 500;\n                                            },\n                                            method: 'get',\n                                            url: 'http://' + self.$store.state.VUE_APP_MOBIUS_HOST + ':7579/Mobius/' + self.$store.state.VUE_APP_MOBIUS_APPROVAL + '/approval',\n                                            params: {\n                                                'fu': '1',\n                                                'lvl': '1',\n                                                'ty': '3',\n                                            },\n                                            headers: {\n                                                'Accept': 'application/json',\n                                                'X-M2M-RI': '12345',\n                                                'X-M2M-Origin': 'SOrigin'\n                                            }\n                                        }).then(\n                                            function (response) {\n                                                let list = response.data[\"m2m:uril\"];\n                                                for (let idx in list) {\n                                                    let id = list[idx].split('/')\n                                                    self.approval_list.push(id[id.length - 1])\n                                                }\n                                                self.$store.state.APPROVAL_LIST = self.approval_list\n                                                EventBus.$emit('do-updated-approval-list', self.$store.state.APPROVAL_LIST);\n                                            }\n                                        ).catch(\n                                            function (error) {\n                                                console.log(error);\n                                            }\n                                        );\n                                    }\n                                ).catch(\n                                    function (err) {\n                                        console.log(err.message);\n                                    }\n                                );\n                            }\n                        ).catch(\n                            function (err) {\n                                console.log(err.message);\n                            }\n                        );\n                    }\n                }\n            ).catch(\n                function (err) {\n                    console.log(err.message);\n                }\n            );\n        },\n\n        GcsAppBarReseted() {\n            this.MOBIUS_CONNECTION_CONNECTED = false;\n            this.$store.state.MOBIUS_CONNECTION_CONNECTED = false;\n            this.approval_list = []\n\n            localStorage.setItem('mobius_connected', this.MOBIUS_CONNECTION_CONNECTED);\n        },\n    },\n\n    mounted() {\n        if (this.MOBIUS_CONNECTION_CONNECTED) {\n            this.GcsAppBarCreated();\n        }\n    },\n\n    beforeDestroy() {\n        this.GcsAppBarReseted()\n    }\n}\n</script>\n\n<style scoped>\n#create .v-speed-dial {\n    position: absolute;\n}\n\n#create .v-btn--floating {\n    position: relative;\n}\n</style>\n"]}]}